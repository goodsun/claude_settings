# HotPepper MCP Server

ホットペッパーグルメAPIを使った飲食店検索MCPサーバーです。検索結果を優先順位付けして表示します。

## 特徴

- **優先順位付け検索**: 席数、飲み放題、個室などの条件を考慮してスコアリング
- **デフォルト10件表示**: おすすめ順にTOP10を表示
- **多彩な検索条件**: キーワード、エリア、ジャンル、予算、宴会人数など

## セットアップ

### 1. APIキーの取得

1. [リクルートWEBサービス](https://webservice.recruit.co.jp/)にアクセス
2. 新規登録またはログイン
3. 「APIキーを発行する」からホットペッパーグルメAPIのキーを取得
4. 発行されたAPIキー（英数字の文字列）をメモしておく

### 2. インストール

```bash
cd hotpepper-mcp-server
npm install
npm run build
```

### 3. Claude Codeへの設定

`~/.claude/settings.json` に以下を追加:

```json
{
  "mcpServers": {
    "hotpepper": {
      "command": "node",
      "args": ["/path/to/hotpepper-mcp-server/dist/index.js"],
      "env": {
        "HOTPEPPER_API_KEY": "<ここに手順1で取得したAPIキーを入力>"
      }
    }
  }
}
```

> **注意**: `<ここに手順1で取得したAPIキーを入力>` の部分を、実際に取得したAPIキー（例: `a1b2c3d4e5f6g7h8`）に置き換えてください。

## 使用可能なツール

### search_restaurants

飲食店を検索します。優先順位付けでおすすめ順に表示。

**パラメータ:**
- `keyword`: 検索キーワード（店名、住所、駅名など）
- `genre`: ジャンルコード（G001=居酒屋, G004=和食など）
- `budget`: 予算コード（B004=5001～7000円など）
- `party_capacity`: 宴会収容人数
- `private_room`: 個室ありのみ
- `free_drink`: 飲み放題ありのみ
- `count`: 取得件数（デフォルト10）

### get_genres

ジャンル一覧を取得します。

### get_budgets

予算コード一覧を取得します。

### get_large_areas

大エリア（都道府県）一覧を取得します。

### get_specials

特集（忘年会、新年会など）一覧を取得します。

### search_by_area

エリアコードを使って地域検索します。

## 優先順位付けの基準

検索結果は以下の基準でスコアリングされます：

| 条件 | スコア |
|------|--------|
| 席数が指定人数以上 | +20～30 |
| 飲み放題あり | +15 |
| 個室あり | +12 |
| 食べ放題あり | +8 |
| 23時以降営業 | +5 |
| カード利用可 | +3 |
| Wi-Fiあり | +2 |

## 使用例

```
渋谷で40人の新年会、予算6000〜7000円、和食居酒屋
```

→ 席数・飲み放題・個室などを考慮しておすすめ順にTOP10を表示
